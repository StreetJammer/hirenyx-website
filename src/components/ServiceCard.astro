---
interface Props {
  icon: string;
  name: string;
  desc: string;
  price: string;
  details?: string[];
  id?: string;
}

const { icon, name, desc, price, details = [], id } = Astro.props;
---

<div id={id} class="service-card group relative p-6 rounded-2xl bg-nyx-800/50 border border-white/5 hover:border-accent-purple/30 transition-all duration-500 hover:shadow-2xl hover:shadow-accent-purple/10 hover:-translate-y-2 cursor-pointer overflow-hidden">
  <!-- Gradient border glow on hover -->
  <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-accent-purple/0 via-accent-violet/0 to-accent-glow/0 group-hover:from-accent-purple/5 group-hover:via-accent-violet/5 group-hover:to-accent-glow/5 transition-all duration-500"></div>
  
  <!-- Glass reflection -->
  <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"></div>
  
  <div class="relative z-10">
    <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">{icon}</div>
    <h3 class="text-lg font-semibold text-white mb-2 group-hover:text-accent-glow transition-colors duration-300">{name}</h3>
    <p class="text-sm text-gray-400 mb-4 leading-relaxed">{desc}</p>
    <div class="flex items-center justify-between">
      <span class="text-sm font-mono font-semibold text-accent-purple group-hover:text-accent-glow transition-colors">{price}</span>
      <span class="text-xs text-gray-500 group-hover:text-accent-purple transition-colors">Click for details →</span>
    </div>
    
    {details.length > 0 && (
      <div class="details-panel max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
        <div class="pt-4 mt-4 border-t border-white/5">
          <h4 class="text-xs uppercase tracking-wider text-gray-500 mb-3">What's included:</h4>
          <ul class="space-y-2">
            {details.map(d => (
              <li class="flex items-start gap-2 text-sm text-gray-400">
                <span class="text-accent-purple mt-0.5">✦</span>
                <span>{d}</span>
              </li>
            ))}
          </ul>
        </div>
      </div>
    )}
  </div>
</div>

<style>
  .service-card.expanded .details-panel {
    max-height: 300px;
  }
</style>

<script>
  document.querySelectorAll('.service-card').forEach(card => {
    card.addEventListener('click', () => {
      card.classList.toggle('expanded');
    });
  });
</script>
